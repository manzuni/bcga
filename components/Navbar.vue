<script setup>
import { Disclosure, DisclosureButton, DisclosurePanel } from "@headlessui/vue";
import { Bars3Icon, XMarkIcon } from "@heroicons/vue/24/outline";

const route = useRoute();

// detect ? header for active one
const navigation = reactive([
  { name: "Locație", href: "#locatie", current: false },
  { name: "Activități", href: "#activitati", current: false },
  { name: "Contact", href: "#contact", current: false },
]);

const updateActiveMenuLink = (newHash) => {
  navigation.forEach((item) => {
    item.current = item.href === newHash;
  });
};

onMounted(() => {
  updateActiveMenuLink(route.hash);
});

watch(
  () => route.hash,
  (newHash) => {
    updateActiveMenuLink(newHash);
  },
  { immediate: true }
);
</script>

<template>
  <Disclosure as="nav" class="bg-gray-800" v-slot="{ open }">
    <div id="navbar" class="mx-auto max-w-7xl px-2 sm:px-6 lg:px-8">
      <div class="relative flex h-16 items-center justify-between">
        <div
          class="flex flex-1 items-center justify-center sm:items-stretch sm:justify-start"
        >
          <!-- justify-center above -->
          <div class="flex flex-shrink-0 items-center">
            <div class="mr-4 mt-4 relative">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="36px"
                height="36px"
                viewBox="0 0 14 14"
              >
                <path
                  fill="none"
                  stroke="white"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="M13.5 4s-3.67 6-8 6a5.6 5.6 0 0 1-5-3a5.6 5.6 0 0 1 5-3c4.33 0 8 6 8 6"
                />
              </svg>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="36px"
                height="36px"
                viewBox="0 0 14 14"
                class="absolute top-[-9px] left-[-4px] z-1"
              >
                <path
                  fill="none"
                  stroke="#9b2c2c"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="M7 .5v13m-4-9h8"
                />
              </svg>
            </div>
            <svg
              width="92.426"
              height="26.086"
              viewBox="0 0 92.426 26.086"
              xmlns="http://www.w3.org/2000/svg"
            >
              <g
                id="svgGroup"
                stroke-linecap="round"
                fill-rule="evenodd"
                font-size="9pt"
                stroke="#ffffff"
                stroke-width="0.25mm"
                fill="#ffffff"
                style="stroke: #ffffff; stroke-width: 0.25mm; fill: #ffffff"
              >
                <path
                  d="M 66.639 15.258 L 66.639 23.924 A 4.137 4.137 0 0 1 66.387 24.087 Q 65.947 24.352 65.136 24.741 Q 64.103 25.237 62.323 25.628 A 26.015 26.015 0 0 1 62.156 25.664 Q 60.777 25.958 58.887 26.038 A 35.252 35.252 0 0 1 57.393 26.068 A 19.508 19.508 0 0 1 54.254 25.829 Q 52.335 25.516 50.757 24.794 A 8.935 8.935 0 0 1 46.5 20.708 A 11.012 11.012 0 0 1 46.477 20.663 A 11.648 11.648 0 0 1 45.509 18.036 Q 45.196 16.764 45.069 15.261 A 25.732 25.732 0 0 1 44.982 13.096 A 19.631 19.631 0 0 1 45.329 9.287 Q 46.038 5.704 48.199 3.419 A 10.533 10.533 0 0 1 53.664 0.384 A 15.801 15.801 0 0 1 57.164 0.018 Q 59.891 0.018 61.523 0.539 A 7.085 7.085 0 0 1 61.541 0.545 Q 62.627 0.895 63.363 1.323 A 4.742 4.742 0 0 1 64.02 1.775 A 10.206 10.206 0 0 1 64.476 2.177 Q 64.962 2.635 65.197 3.006 A 2.437 2.437 0 0 1 65.279 3.144 Q 65.315 3.21 65.342 3.27 A 1.134 1.134 0 0 1 65.373 3.349 Q 65.417 3.472 65.436 3.711 A 3.946 3.946 0 0 1 65.443 3.815 A 3.859 3.859 0 0 1 65.464 4.039 Q 65.49 4.43 65.47 5.045 Q 65.443 5.854 65.338 6.469 Q 65.268 6.856 65.109 6.979 A 0.308 0.308 0 0 1 65.055 7.021 Q 64.997 7.057 64.905 7.088 A 1.294 1.294 0 0 1 64.863 7.102 A 0.952 0.952 0 0 1 64.743 7.128 Q 64.619 7.149 64.442 7.153 A 4.158 4.158 0 0 1 64.336 7.154 Q 63.949 7.154 63.475 7.134 A 30.084 30.084 0 0 1 63.026 7.11 A 28.496 28.496 0 0 1 62.678 7.088 Q 62.191 7.053 61.928 7.014 Q 61.565 6.953 61.378 6.848 A 0.635 0.635 0 0 1 61.321 6.812 A 1.25 1.25 0 0 1 61.185 6.698 Q 61.119 6.634 61.05 6.554 A 3.018 3.018 0 0 1 60.926 6.399 A 4.645 4.645 0 0 0 60.754 6.184 Q 60.582 5.981 60.346 5.739 A 2.16 2.16 0 0 0 60.016 5.467 Q 59.837 5.345 59.613 5.234 A 5.118 5.118 0 0 0 59.23 5.063 Q 58.482 4.764 57.164 4.764 A 6.416 6.416 0 0 0 55.093 5.083 A 5.259 5.259 0 0 0 52.611 6.864 A 6.91 6.91 0 0 0 51.482 9.054 Q 51.171 10.024 51.045 11.199 A 15.983 15.983 0 0 0 50.959 12.902 A 15.96 15.96 0 0 0 51.118 15.235 Q 51.297 16.442 51.676 17.416 A 6.689 6.689 0 0 0 52.673 19.178 A 5.564 5.564 0 0 0 56.246 21.216 A 8.306 8.306 0 0 0 57.604 21.322 A 17.955 17.955 0 0 0 58.359 21.308 Q 59.12 21.275 59.631 21.173 A 3.538 3.538 0 0 0 59.985 21.085 A 18.309 18.309 0 0 0 60.293 20.987 Q 60.704 20.851 60.889 20.762 A 1.023 1.023 0 0 0 60.961 20.725 L 60.961 15.258 A 2.375 2.375 0 0 1 60.976 14.977 Q 61.013 14.675 61.133 14.491 A 0.717 0.717 0 0 1 61.137 14.484 Q 61.785 13.534 62.858 12.501 A 20.438 20.438 0 0 1 63.352 12.041 Q 63.586 11.853 63.766 11.833 A 0.378 0.378 0 0 1 63.809 11.83 A 0.484 0.484 0 0 1 64.003 11.873 Q 64.074 11.905 64.147 11.958 A 1.143 1.143 0 0 1 64.248 12.041 Q 64.954 12.65 65.454 13.208 A 9.194 9.194 0 0 1 65.549 13.316 A 14.622 14.622 0 0 1 66.098 13.984 A 11.438 11.438 0 0 1 66.463 14.484 A 1.026 1.026 0 0 1 66.578 14.754 Q 66.639 14.97 66.639 15.258 Z M 33.732 21.34 A 10.139 10.139 0 0 0 34.48 21.314 Q 35.212 21.26 35.703 21.091 A 2.824 2.824 0 0 0 35.745 21.076 Q 36.475 20.813 36.879 20.426 A 7.569 7.569 0 0 0 37.338 19.949 A 6.179 6.179 0 0 0 37.582 19.652 A 9.967 9.967 0 0 1 37.717 19.488 Q 37.864 19.311 37.98 19.192 A 2.596 2.596 0 0 1 38.048 19.125 A 0.837 0.837 0 0 1 38.262 18.98 Q 38.361 18.931 38.482 18.899 A 1.62 1.62 0 0 1 38.566 18.879 Q 38.848 18.791 39.472 18.765 Q 40.096 18.738 40.72 18.738 A 17.498 17.498 0 0 1 41.006 18.741 Q 41.405 18.747 41.59 18.774 A 1.86 1.86 0 0 1 41.76 18.789 Q 41.929 18.813 42.031 18.868 A 0.367 0.367 0 0 1 42.1 18.914 A 0.342 0.342 0 0 1 42.176 19.015 Q 42.251 19.16 42.275 19.442 Q 42.328 20.004 42.337 20.777 Q 42.346 21.551 42.311 22.113 A 1.664 1.664 0 0 1 42.292 22.248 Q 42.275 22.339 42.249 22.412 Q 42.205 22.535 42.064 22.781 A 2.247 2.247 0 0 1 41.956 22.938 Q 41.761 23.197 41.379 23.599 A 4.411 4.411 0 0 1 40.951 23.989 Q 40.515 24.34 39.885 24.706 Q 39.12 25.15 38.009 25.493 A 15.198 15.198 0 0 1 37.345 25.682 Q 36.154 25.991 34.545 26.064 A 22.742 22.742 0 0 1 33.522 26.086 A 16.679 16.679 0 0 1 30.336 25.791 A 14.504 14.504 0 0 1 28.986 25.462 A 9.2 9.2 0 0 1 25.286 23.361 Q 23.695 21.885 22.808 19.371 A 13.962 13.962 0 0 1 22.233 17.123 Q 21.92 15.329 21.92 13.096 A 20.166 20.166 0 0 1 22.159 9.904 Q 22.509 7.723 23.37 5.985 A 10.591 10.591 0 0 1 25.765 2.777 A 9.971 9.971 0 0 1 27.492 1.529 A 11.403 11.403 0 0 1 31.32 0.198 A 15.226 15.226 0 0 1 33.82 0 Q 36.387 0 37.942 0.527 A 10.621 10.621 0 0 1 38.903 0.903 Q 39.364 1.11 39.731 1.341 A 4.466 4.466 0 0 1 40.307 1.767 A 10.715 10.715 0 0 1 40.761 2.189 Q 41.17 2.594 41.398 2.928 A 2.769 2.769 0 0 1 41.449 3.006 A 2.437 2.437 0 0 1 41.531 3.144 Q 41.567 3.21 41.594 3.27 A 1.134 1.134 0 0 1 41.625 3.349 Q 41.669 3.472 41.688 3.711 A 3.946 3.946 0 0 1 41.695 3.815 A 3.859 3.859 0 0 1 41.716 4.039 Q 41.742 4.43 41.722 5.045 Q 41.695 5.854 41.59 6.469 Q 41.52 6.856 41.361 6.979 A 0.308 0.308 0 0 1 41.307 7.021 Q 41.249 7.057 41.157 7.088 A 1.294 1.294 0 0 1 41.115 7.102 A 0.952 0.952 0 0 1 40.995 7.128 Q 40.871 7.149 40.694 7.153 A 4.158 4.158 0 0 1 40.588 7.154 A 17.172 17.172 0 0 1 40.01 7.144 Q 39.685 7.133 39.322 7.11 Q 38.784 7.077 38.452 7.038 A 5.734 5.734 0 0 1 38.268 7.014 Q 37.896 6.952 37.702 6.842 A 0.687 0.687 0 0 1 37.652 6.812 Q 37.507 6.712 37.361 6.529 A 2.403 2.403 0 0 1 37.266 6.399 A 2.844 2.844 0 0 0 37.023 6.099 Q 36.708 5.755 36.176 5.344 Q 35.479 4.805 33.967 4.752 A 9.694 9.694 0 0 0 33.627 4.746 A 5.248 5.248 0 0 0 31.16 5.322 A 5.441 5.441 0 0 0 29.514 6.671 Q 27.897 8.596 27.897 12.902 A 17.387 17.387 0 0 0 28.031 15.14 Q 28.374 17.775 29.593 19.266 A 6.095 6.095 0 0 0 31.031 20.569 A 4.929 4.929 0 0 0 33.732 21.34 Z M 91.582 25.647 L 87.328 25.647 A 1.196 1.196 0 0 1 86.989 25.603 Q 86.612 25.491 86.506 25.096 A 1.278 1.278 0 0 1 86.467 24.82 A 21.317 21.317 0 0 0 86.345 23.225 Q 86.25 22.377 86.088 21.413 A 45.766 45.766 0 0 0 85.834 20.039 L 76.236 20.039 A 45.506 45.506 0 0 0 75.927 21.997 Q 75.796 22.965 75.73 23.826 A 23.658 23.658 0 0 0 75.674 24.82 Q 75.639 25.647 74.777 25.647 L 70.611 25.647 A 0.893 0.893 0 0 1 70.355 25.611 A 0.719 0.719 0 0 1 70.084 25.462 Q 69.875 25.279 69.89 24.829 A 1.897 1.897 0 0 1 69.891 24.82 A 24.675 24.675 0 0 1 70.043 23.011 Q 70.153 22.088 70.334 21.071 A 42.694 42.694 0 0 1 70.462 20.382 A 57.17 57.17 0 0 1 71.35 16.547 A 65.754 65.754 0 0 1 71.719 15.223 A 74.8 74.8 0 0 1 73.441 9.993 Q 74.391 7.436 75.41 5.309 Q 76.43 3.182 77.397 1.828 Q 77.819 1.231 78.284 0.899 A 2.544 2.544 0 0 1 78.478 0.774 A 2.332 2.332 0 0 1 79.161 0.513 Q 79.497 0.44 79.893 0.44 L 82.424 0.44 A 3.685 3.685 0 0 1 83.054 0.491 Q 83.412 0.553 83.706 0.69 A 2.14 2.14 0 0 1 83.865 0.774 Q 84.445 1.108 84.955 1.828 A 16.427 16.427 0 0 1 85.686 2.953 Q 86.301 3.983 86.933 5.317 A 54.954 54.954 0 0 1 88.157 8.111 A 67.807 67.807 0 0 1 88.893 10.002 Q 89.842 12.551 90.606 15.214 Q 91.371 17.877 91.863 20.338 A 34.804 34.804 0 0 1 92.213 22.387 Q 92.343 23.325 92.398 24.165 A 19.463 19.463 0 0 1 92.426 24.715 A 1.956 1.956 0 0 1 92.426 24.752 Q 92.426 25.518 91.807 25.628 A 1.287 1.287 0 0 1 91.582 25.647 Z M 9.686 25.647 L 4.342 25.647 A 11.644 11.644 0 0 1 3.392 25.61 Q 2.409 25.53 1.769 25.269 A 2.984 2.984 0 0 1 1.591 25.19 A 2.363 2.363 0 0 1 0.352 23.776 A 3.046 3.046 0 0 1 0.325 23.695 A 5.951 5.951 0 0 1 0.14 22.901 Q 0.07 22.484 0.035 21.992 A 14.916 14.916 0 0 1 0 20.936 L 0 5.15 Q 0 3.393 0.325 2.364 A 2.5 2.5 0 0 1 0.794 1.493 A 2.351 2.351 0 0 1 1.591 0.888 A 3.712 3.712 0 0 1 2.302 0.642 Q 3.01 0.468 4.007 0.444 A 13.655 13.655 0 0 1 4.342 0.44 L 9.176 0.44 A 18.481 18.481 0 0 1 11.618 0.59 Q 12.841 0.754 13.84 1.094 A 7.533 7.533 0 0 1 15.662 1.986 A 5.17 5.17 0 0 1 17.271 3.681 Q 17.847 4.686 17.919 5.973 A 6.673 6.673 0 0 1 17.93 6.346 A 5.275 5.275 0 0 1 17.603 8.215 A 4.969 4.969 0 0 1 17.297 8.877 A 6.407 6.407 0 0 1 15.636 10.828 Q 14.607 11.637 13.395 12.041 L 13.395 12.111 Q 14.941 12.322 16.189 13.122 Q 17.438 13.922 18.185 15.196 A 5.455 5.455 0 0 1 18.896 17.418 A 6.804 6.804 0 0 1 18.932 18.123 A 8.459 8.459 0 0 1 18.721 20.06 A 6.25 6.25 0 0 1 17.745 22.263 Q 16.559 23.942 14.476 24.794 A 11.183 11.183 0 0 1 11.859 25.495 A 14.924 14.924 0 0 1 9.686 25.647 Z M 5.678 6.803 L 5.678 19.266 A 5.215 5.215 0 0 0 5.708 19.844 Q 5.775 20.443 5.993 20.802 A 1.269 1.269 0 0 0 6.1 20.953 A 1.17 1.17 0 0 0 6.542 21.274 Q 6.975 21.463 7.682 21.463 L 9.018 21.463 Q 10.793 21.463 11.874 20.549 A 2.994 2.994 0 0 0 12.934 18.485 A 4.248 4.248 0 0 0 12.955 18.053 A 3.486 3.486 0 0 0 12.807 17.011 A 2.741 2.741 0 0 0 11.9 15.68 A 3.717 3.717 0 0 0 10.308 14.932 A 5.35 5.35 0 0 0 9.176 14.818 L 9.193 14.818 A 2.329 2.329 0 0 1 8.973 14.809 Q 8.743 14.787 8.598 14.715 A 0.598 0.598 0 0 1 8.561 14.695 A 10.193 10.193 0 0 1 7.979 14.284 A 12.464 12.464 0 0 1 7.62 14.001 Q 7.137 13.606 6.574 13.043 A 2.028 2.028 0 0 1 6.506 12.949 Q 6.41 12.809 6.4 12.728 A 0.148 0.148 0 0 1 6.398 12.709 Q 6.398 12.568 6.574 12.375 A 19.431 19.431 0 0 1 7.084 11.883 Q 7.363 11.623 7.62 11.408 A 8.967 8.967 0 0 1 8.156 10.992 A 7.042 7.042 0 0 1 8.561 10.723 A 1.057 1.057 0 0 1 8.798 10.64 Q 8.913 10.613 9.047 10.604 A 2.183 2.183 0 0 1 9.193 10.6 L 9.176 10.6 A 2.706 2.706 0 0 0 10.765 10.079 A 3.609 3.609 0 0 0 11.083 9.826 Q 11.808 9.182 11.929 7.926 A 5.496 5.496 0 0 0 11.953 7.4 A 4.647 4.647 0 0 0 11.895 6.635 Q 11.828 6.236 11.684 5.929 A 1.669 1.669 0 0 0 11.022 5.177 A 3.657 3.657 0 0 0 10.032 4.779 Q 9.406 4.623 8.631 4.623 L 7.682 4.623 A 4.283 4.283 0 0 0 7.148 4.654 Q 6.57 4.727 6.251 4.972 A 1.011 1.011 0 0 0 6.1 5.115 A 1.399 1.399 0 0 0 5.86 5.535 Q 5.707 5.941 5.682 6.561 A 6.172 6.172 0 0 0 5.678 6.803 Z M 81.088 5.994 L 80.982 5.994 A 20.631 20.631 0 0 0 79.887 7.986 Q 79.346 9.103 78.856 10.406 A 52.104 52.104 0 0 0 77.186 15.68 L 84.814 15.68 Q 84.076 12.973 83.109 10.406 A 38.215 38.215 0 0 0 82.247 8.299 Q 81.787 7.27 81.309 6.392 A 21.75 21.75 0 0 0 81.088 5.994 Z"
                  vector-effect="non-scaling-stroke"
                />
              </g>
            </svg>
          </div>

          <div
            class="hidden w-full sm:flex sm:ml-6 sm:items-center sm:justify-end"
          >
            <div class="flex space-x-4 justify-end">
              <a
                v-for="item in navigation"
                :key="item.name"
                :href="item.href"
                :class="[
                  item.current
                    ? 'bg-gray-900 text-white'
                    : 'text-gray-300 hover:bg-gray-700 hover:text-white',
                  'rounded-md px-3 py-2 text-sm font-large',
                ]"
                :aria-current="item.current ? 'page' : undefined"
                >{{ item.name }}</a
              >
            </div>
          </div>
        </div>
        <div class="absolute inset-y-0 right-0 flex items-center sm:hidden">
          <!-- Mobile menu button-->
          <DisclosureButton
            class="relative inline-flex items-center justify-center rounded-md p-2 text-gray-400 hover:bg-gray-700 hover:text-white focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white"
          >
            <span class="absolute -inset-0.5" />
            <span class="sr-only">Open main menu</span>
            <Bars3Icon v-if="!open" class="block h-6 w-6" aria-hidden="true" />
            <XMarkIcon v-else class="block h-6 w-6" aria-hidden="true" />
          </DisclosureButton>
        </div>
      </div>
    </div>

    <DisclosurePanel class="sm:hidden">
      <div class="space-y-1 px-2 pb-3 pt-2">
        <DisclosureButton
          v-for="item in navigation"
          :key="item.name"
          as="a"
          :href="item.href"
          :class="[
            item.current
              ? 'bg-gray-900 text-white'
              : 'text-gray-300 hover:bg-gray-700 hover:text-white',
            'block rounded-md px-3 py-2 text-base font-medium',
          ]"
          :aria-current="item.current ? 'page' : undefined"
          >{{ item.name }}</DisclosureButton
        >
      </div>
    </DisclosurePanel>
  </Disclosure>
</template>
